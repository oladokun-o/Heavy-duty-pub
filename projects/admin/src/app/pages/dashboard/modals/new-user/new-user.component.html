<form [formGroup]="form" class="col-12 p-md-5 p-3" (keydown.enter)="$event.preventDefault()" autocomplete="off">
  <h3>Create A New User</h3>
  <div class="row">
    <div class="col-12 mb-3">
      <label for="" class="form-label">Username</label>
      <input
        type="username"
        id="username"
        class="form-control"
        placeholder="Enter a new username"
        formControlName="username"
        aria-describedby="helpId"
        autocomplete="name"
      />
      <small *ngIf="form.get('username')?.touched && form.get('username')?.errors && form.get('username')?.errors?.required" id="helpId" class="text-danger">
        An username is required
      </small>
    </div>

    <div class="col-12 mb-3">
      <label for="" class="form-label">Email</label>
      <input
        type="email"
        id="email"
        class="form-control"
        placeholder="Enter an email address"
        formControlName="email"
        aria-describedby="helpId"
      />
      <small *ngIf="form.get('email')?.touched && form.get('email')?.errors && form.get('email')?.errors?.required" id="helpId" class="text-danger">
        An email address is required
      </small>
      <small *ngIf="form.get('email')?.touched && form.get('email')?.errors && form.get('email')?.errors?.email"
        class="text-danger">
        Please enter a valid email address
      </small>
    </div>

    <div class="col-12 mb-4">
      <label for="" class="form-label">Password</label>
      <input type="password" id="password" class="form-control" placeholder="Enter a password" formControlName="password"
        aria-describedby="pwdId" autocomplete="new-password"/>
      <small *ngIf="form.get('password')?.touched && form.get('password')?.errors && form.get('password')?.errors?.required"
        id="pwdId" class="text-danger">
        A new password is required
      </small>
    </div>

    <div class="col-12 d-flex flex-row">
      <button (click)="activeModal.dismiss()" [disabled]="loading" class="uk-button uk-button-default w-50 uk-button-large">
        cancel
      </button>
      <button (click)="confirm()" [disabled]="loading" class="uk-button uk-button-secondary w-50 uk-button-large">
        <span *ngIf="!loading">create</span>
        <span *ngIf="loading">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
          <span class="ms-2">
            checking...
          </span>
        </span>
      </button>
    </div>
  </div>
</form>
